{"version":3,"sources":["webpack:///./templates/image.hbs","webpack:///./js/services/photo-services.js","webpack:///./js/photo.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","helperMissing","alias3","alias4","escapeExpression","id","call","webformatURL","tags","likes","views","comments","downloads","stack1","each","program","noop","page","query","fetchArticles","this","fetch","then","response","json","parsedResponse","hits","string","incrementPage","resetPage","refs","searchForm","document","querySelector","articleList","loadMoreBtn","insertListItems","items","insertAdjacentHTML","buildListItemsMarkup","articleListItemsTemplates","addEventListener","e","inputValue","target","value","innerHTML","photoService","searchQuery","catch","error","console","warn","preventDefault","position","offsetTop","window","scrollTo","top","behavior"],"mappings":"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","file":"main.0758154abe1d4695d028.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<li class=\\\"gallery__card\\\" id=\\\"\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" key=\\\"\"\n    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\r\\n    <div class=\\\"gallery__card_photo\\\">\\r\\n        <img src=\\\"\"\n    + alias4(((helper = (helper = helpers.webformatURL || (depth0 != null ? depth0.webformatURL : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" data-largeImg=\\\"largeImageURL\\\" alt=\\\"\"\n    + alias4(((helper = (helper = helpers.tags || (depth0 != null ? depth0.tags : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"tags\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" width=\\\"280\\\"\\r\\n            class=\\\"gallery__card_photo-card\\\" />\\r\\n\\r\\n        <div class=\\\"stats\\\">\\r\\n            <p class=\\\"stats_item\\\">\\r\\n                <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n                \"\n    + alias4(((helper = (helper = helpers.likes || (depth0 != null ? depth0.likes : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\r\\n            </p>\\r\\n            <p class=\\\"stats_item\\\">\\r\\n                <i class=\\\"material-icons\\\">visibility</i>\\r\\n                \"\n    + alias4(((helper = (helper = helpers.views || (depth0 != null ? depth0.views : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\r\\n            </p>\\r\\n            <p class=\\\"stats_item\\\">\\r\\n                <i class=\\\"material-icons\\\">comment</i>\\r\\n                \"\n    + alias4(((helper = (helper = helpers.comments || (depth0 != null ? depth0.comments : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\r\\n            </p>\\r\\n            <p class=\\\"stats_item\\\">\\r\\n                <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n                \"\n    + alias4(((helper = (helper = helpers.downloads || (depth0 != null ? depth0.downloads : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\r\\n            </p>\\r\\n        </div>\\r\\n    </div>\\r\\n</li>\\r\\n\";\n},\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data})) != null ? stack1 : \"\");\n},\"useData\":true});","const baseUrl = 'https://pixabay.com/api/';\r\nconst key = 'key=17934686-6855a8a3291e2952d0451e641';\r\nexport default {\r\n  page: 1,\r\n  query: '',\r\n\r\n  fetchArticles() {\r\n    const requestParams = `q=${this.query}&`;\r\n    return fetch(\r\n      baseUrl + `?${key}&q=${this.query}&image_type=photo&page=${this.page}`,\r\n    )\r\n      .then(response => response.json())\r\n      .then(parsedResponse => {\r\n        // this.incrementPage();\r\n        return parsedResponse.hits;\r\n      });\r\n  },\r\n  get searchQuery() {\r\n    return this.query;\r\n  },\r\n  set searchQuery(string) {\r\n    this.query = string;\r\n  },\r\n  incrementPage() {\r\n    this.page += 1;\r\n  },\r\n  resetPage() {\r\n    this.page = 1;\r\n  },\r\n};\r\n","import photoService from './services/photo-services';\r\nimport articleListItemsTemplates from '../templates/image.hbs';\r\nconst refs = {\r\n  searchForm: document.querySelector('#search-form'),\r\n  articleList: document.querySelector('.gallery'),\r\n  loadMoreBtn: document.querySelector(\"button[data-action='load-more']\"),\r\n};\r\nrefs.searchForm.addEventListener('input', inputSearch);\r\nrefs.loadMoreBtn.addEventListener('click', loadMoreBtnHandler);\r\nfunction inputSearch(e) {\r\n  const inputValue = e.target.value;\r\n  clearListItems();\r\n\r\n  photoService.searchQuery = inputValue;\r\n  photoService\r\n    .fetchArticles()\r\n    .then(data => {\r\n      const markup = buildListItemsMarkup(data);\r\n      insertListItems(markup);\r\n      photoService.resetPage();\r\n    })\r\n    .catch(error => console.warn(error));\r\n}\r\nfunction loadMoreBtnHandler(e) {\r\n  e.preventDefault();\r\n  photoService.incrementPage();\r\n  photoService\r\n    .fetchArticles()\r\n    .then(data => {\r\n      const markup = buildListItemsMarkup(data);\r\n      insertListItems(markup);\r\n    })\r\n    .then(() => {\r\n      const position = refs.loadMoreBtn.offsetTop;\r\n      window.scrollTo({\r\n        top: position - 1500,\r\n        behavior: 'smooth',\r\n      });\r\n    })\r\n    .catch(error => console.warn(error));\r\n}\r\nfunction insertListItems(items) {\r\n  refs.articleList.insertAdjacentHTML('beforeend', items);\r\n}\r\n\r\nfunction buildListItemsMarkup(items) {\r\n  return articleListItemsTemplates(items);\r\n}\r\nfunction clearListItems() {\r\n  refs.articleList.innerHTML = '';\r\n}\r\n"],"sourceRoot":""}